<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content>
    <title>Document</title>
    <link rel="icon" href="images/favicon.ico">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <div class="header-inn wrapper">
            <div class="logo">
                <img src="images/logo.svg" alt="JavaScript">
            </div>
            <hgroup>
                <h1>雛形</h1>
                <h2>概要</h2>
            </hgroup>
        </div>
    </header>
    <main>
        <div id="container" class="wrapper">
            <section>
                <h2><span>知ってました？</span> 2025年大阪万博開催まで</h2>
                <p class="timer">
                    あと<span id="day"></span>日
                    <span id="hour"></span>時間
                    <span id="min"></span>分
                    <span id="sec"></span>秒
                </p>
            </section>
        </div>

    </main>
    <footer>
        <small>&copy;toshiki hashizume</small>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        'use strict';
        //due{期限}まであと何日何時間何分何秒か？
        //due -- Dateオブジェクト new Date(2025, 4, 3)

        function countdown(due) {
            const now = new Date(); //現在時刻
            //.getTime() -- 1970/01/01から何ミリ秒経過したか？
            const rest = due.getTime() - now.getTime();

            const days = Math.floor(rest / 1000 / 60 / 60 / 24);
            const hours = Math.floor(rest / 1000 / 60 / 60) % 24;
            const min = Math.floor(rest / 1000 / 60) % 60;
            const sec = Math.floor(rest / 1000) % 60;

            // const count = [days, hours, min, sec];
            const count = {
                d: days,
                h: hours,
                m: min,
                s: sec
            };
            return count;
        }

        // let goal = new Date();
        let goal = new Date(2025, 4, 3)
        console.log(countdown(goal));
        recalc();

        function refresh() {
            setTimeout(recalc, 1000);
        }

        function recalc() {

            const counter = countdown(goal);
            document.getElementById('day').textContent = 
            (String(counter.d).padStart(2, '0'));
            document.getElementById('hour').textContent = 
            (String(counter.h).padStart(2, '0'));
            document.getElementById('min').textContent = 
            (String(counter.m).padStart(2, '0'));
            document.getElementById('sec').textContent = 
            (String(counter.s).padStart(2, '0'));
            refresh();
        }


        // console.log(countdown(new Date(2025, 4, 3)));
  
    </script>


</body>

</html>